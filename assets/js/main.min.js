document.addEventListener("DOMContentLoaded", function () {
  const e = document.querySelectorAll(".nav-link");
  e.forEach((e) => {
    e.addEventListener("click", function (e) {
      const t = this.getAttribute("href");
      if (t.startsWith("#")) {
        e.preventDefault();
        const n = t.substring(1),
          a = document.getElementById(n);
        if (a) {
          a.scrollIntoView({ behavior: "smooth", block: "start" });
          const e = document.querySelector(".navbar-collapse");
          if (e.classList.contains("show")) {
            new bootstrap.Collapse(e).hide();
          }
        }
      }
    });
  });
  const t = document.querySelectorAll("section[id]");
  function n() {
    const e = window.pageYOffset;
    t.forEach((t) => {
      const n = t.offsetHeight,
        a = t.offsetTop - 100,
        o = t.getAttribute("id"),
        l = document.querySelector(`.nav-link[href="#${o}"]`);
      l && e > a && e <= a + n
        ? l.classList.add("active")
        : l && l.classList.remove("active");
    });
  }
  window.addEventListener("scroll", n);
  if (typeof GLightbox !== "undefined") {
    GLightbox({
      selector: ".glightbox",
      touchNavigation: !0,
      loop: !0,
      autoplayVideos: !1,
    });
  }
  const a = document.querySelectorAll(".gallery-filters .btn"),
    o = document.querySelectorAll(".gallery-item");
  a.forEach((e) => {
    e.addEventListener("click", function () {
      a.forEach((e) => e.classList.remove("active"));
      this.classList.add("active");
      const t = this.getAttribute("data-filter");
      o.forEach((e) => {
        const n = e.getAttribute("data-type");
        if (t === "all") {
          e.style.opacity = "0";
          setTimeout(() => {
            e.style.display = "block";
            setTimeout(() => {
              e.style.opacity = "1";
            }, 10);
          }, 150);
        } else if (n === t) {
          e.style.opacity = "0";
          setTimeout(() => {
            e.style.display = "block";
            setTimeout(() => {
              e.style.opacity = "1";
            }, 10);
          }, 150);
        } else {
          e.style.opacity = "0";
          setTimeout(() => {
            e.style.display = "none";
          }, 300);
        }
      });
    });
  });
  const l = document.querySelectorAll(".step-details");
  l.forEach((e) => {
    e.addEventListener("show.bs.collapse", function () {
      const e = this.previousElementSibling,
        t = e.querySelector(".collapse-toggle i");
      t && (t.style.transform = "rotate(0deg)");
    });
    e.addEventListener("hide.bs.collapse", function () {
      const e = this.previousElementSibling,
        t = e.querySelector(".collapse-toggle i");
      t && (t.style.transform = "rotate(180deg)");
    });
  });
  const s = document.getElementById("navbar");
  function c() {
    window.scrollY > 50
      ? s.classList.add("scrolled")
      : s.classList.remove("scrolled");
  }
  window.addEventListener("scroll", c);
  c();
});
